---
title: 几种使用Python绘制的HTML动态图表
tags:
  - Python
  - Bokeh
categories:
  - Development
  - Python
toc: true
thumbnail: 'https://imgs.borgor.cn/imgs/20190825211138.png'
graphic: true
abbrlink: 65c8031f
date: 2019-08-25 20:54:26
---

# 图形类别

## 散点图

<!-- more -->

```python
# import modules 
from bokeh.plotting import figure, output_file, show 
output_file("html/graph.html")
# create figure 
p = figure(plot_width = 400, plot_height = 400) 
# add a circle renderer with 
# size, color and alpha 
p.circle([1, 2, 3, 4, 5], [4, 7, 1, 6, 3],  
         size = 10, color = "navy", alpha = 0.5) 
# show the results 
show(p)  
```

<div class="bk-root"id="9e74db55-03d6-4f97-8bf6-f3f44d93c069"data-root-id="1547"></div><script type="application/json"id="1764">{"fd0bb85e-181d-4818-b071-6ff2f09da3b8":{"roots":{"references":[{"attributes":{"below":[{"id":"1556","type":"LinearAxis"}],"center":[{"id":"1560","type":"Grid"},{"id":"1565","type":"Grid"}],"left":[{"id":"1561","type":"LinearAxis"}],"plot_height":400,"plot_width":400,"renderers":[{"id":"1582","type":"GlyphRenderer"}],"title":{"id":"1620","type":"Title"},"toolbar":{"id":"1572","type":"Toolbar"},"x_range":{"id":"1548","type":"DataRange1d"},"x_scale":{"id":"1552","type":"LinearScale"},"y_range":{"id":"1550","type":"DataRange1d"},"y_scale":{"id":"1554","type":"LinearScale"}},"id":"1547","subtype":"Figure","type":"Plot"},{"attributes":{"formatter":{"id":"1625","type":"BasicTickFormatter"},"ticker":{"id":"1562","type":"BasicTicker"}},"id":"1561","type":"LinearAxis"},{"attributes":{"callback":null,"data":{"x":[1,2,3,4,5],"y":[4,7,1,6,3]},"selected":{"id":"1627","type":"Selection"},"selection_policy":{"id":"1626","type":"UnionRenderers"}},"id":"1579","type":"ColumnDataSource"},{"attributes":{"source":{"id":"1579","type":"ColumnDataSource"}},"id":"1583","type":"CDSView"},{"attributes":{"overlay":{"id":"1628","type":"BoxAnnotation"}},"id":"1568","type":"BoxZoomTool"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"y"}},"id":"1581","type":"Circle"},{"attributes":{"formatter":{"id":"1623","type":"BasicTickFormatter"},"ticker":{"id":"1557","type":"BasicTicker"}},"id":"1556","type":"LinearAxis"},{"attributes":{"data_source":{"id":"1579","type":"ColumnDataSource"},"glyph":{"id":"1580","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1581","type":"Circle"},"selection_glyph":null,"view":{"id":"1583","type":"CDSView"}},"id":"1582","type":"GlyphRenderer"},{"attributes":{"ticker":{"id":"1557","type":"BasicTicker"}},"id":"1560","type":"Grid"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"1566","type":"PanTool"},{"id":"1567","type":"WheelZoomTool"},{"id":"1568","type":"BoxZoomTool"},{"id":"1569","type":"SaveTool"},{"id":"1570","type":"ResetTool"},{"id":"1571","type":"HelpTool"}]},"id":"1572","type":"Toolbar"},{"attributes":{},"id":"1567","type":"WheelZoomTool"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"navy"},"line_alpha":{"value":0.5},"line_color":{"value":"navy"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"y"}},"id":"1580","type":"Circle"},{"attributes":{},"id":"1566","type":"PanTool"},{"attributes":{"dimension":1,"ticker":{"id":"1562","type":"BasicTicker"}},"id":"1565","type":"Grid"},{"attributes":{"callback":null},"id":"1550","type":"DataRange1d"},{"attributes":{},"id":"1562","type":"BasicTicker"},{"attributes":{},"id":"1570","type":"ResetTool"},{"attributes":{},"id":"1554","type":"LinearScale"},{"attributes":{"text":""},"id":"1620","type":"Title"},{"attributes":{},"id":"1623","type":"BasicTickFormatter"},{"attributes":{},"id":"1571","type":"HelpTool"},{"attributes":{},"id":"1569","type":"SaveTool"},{"attributes":{},"id":"1626","type":"UnionRenderers"},{"attributes":{"callback":null},"id":"1548","type":"DataRange1d"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"1628","type":"BoxAnnotation"},{"attributes":{},"id":"1557","type":"BasicTicker"},{"attributes":{},"id":"1552","type":"LinearScale"},{"attributes":{},"id":"1627","type":"Selection"},{"attributes":{},"id":"1625","type":"BasicTickFormatter"}],"root_ids":["1547"]},"title":"Bokeh Application","version":"1.3.4"}}</script><script type="text/javascript">(function(){var fn=function(){Bokeh.safely(function(){(function(root){function embed_document(root){var docs_json=document.getElementById('1764').textContent;var render_items=[{"docid":"fd0bb85e-181d-4818-b071-6ff2f09da3b8","roots":{"1547":"9e74db55-03d6-4f97-8bf6-f3f44d93c069"}}];root.Bokeh.embed.embed_items(docs_json,render_items)}if(root.Bokeh!==undefined){embed_document(root)}else{var attempts=0;var timer=setInterval(function(root){if(root.Bokeh!==undefined){embed_document(root);clearInterval(timer)}attempts++;if(attempts>100){console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");clearInterval(timer)}},10,root)}})(window)})};if(document.readyState!="loading")fn();else document.addEventListener("DOMContentLoaded",fn)})();</script>

## 折线图

```python
# import modules 
from bokeh.plotting import figure, output_file, show 
# output to notebook 
output_file('html/line.html') 
# create figure 
p = figure(plot_width = 400, plot_height = 400) 
# add a line renderer 
p.line([1, 2, 3, 4, 5], [3, 1, 2, 6, 5],  
        line_width = 2, color = "green") 
# show the results 
show(p) 
```

<div class="bk-root"id="b2c7bbaf-c3f8-47c1-90d2-433614deadc3"data-root-id="1774"></div><script type="application/json"id="2000">{"b5ba7376-bd7e-4b57-9350-d258d68e91b4":{"roots":{"references":[{"attributes":{"below":[{"id":"1783","type":"LinearAxis"}],"center":[{"id":"1787","type":"Grid"},{"id":"1792","type":"Grid"}],"left":[{"id":"1788","type":"LinearAxis"}],"plot_height":400,"plot_width":400,"renderers":[{"id":"1809","type":"GlyphRenderer"}],"title":{"id":"1856","type":"Title"},"toolbar":{"id":"1799","type":"Toolbar"},"x_range":{"id":"1775","type":"DataRange1d"},"x_scale":{"id":"1779","type":"LinearScale"},"y_range":{"id":"1777","type":"DataRange1d"},"y_scale":{"id":"1781","type":"LinearScale"}},"id":"1774","subtype":"Figure","type":"Plot"},{"attributes":{"data_source":{"id":"1806","type":"ColumnDataSource"},"glyph":{"id":"1807","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1808","type":"Line"},"selection_glyph":null,"view":{"id":"1810","type":"CDSView"}},"id":"1809","type":"GlyphRenderer"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"1793","type":"PanTool"},{"id":"1794","type":"WheelZoomTool"},{"id":"1795","type":"BoxZoomTool"},{"id":"1796","type":"SaveTool"},{"id":"1797","type":"ResetTool"},{"id":"1798","type":"HelpTool"}]},"id":"1799","type":"Toolbar"},{"attributes":{},"id":"1859","type":"BasicTickFormatter"},{"attributes":{},"id":"1794","type":"WheelZoomTool"},{"attributes":{"formatter":{"id":"1861","type":"BasicTickFormatter"},"ticker":{"id":"1789","type":"BasicTicker"}},"id":"1788","type":"LinearAxis"},{"attributes":{},"id":"1781","type":"LinearScale"},{"attributes":{},"id":"1863","type":"Selection"},{"attributes":{"dimension":1,"ticker":{"id":"1789","type":"BasicTicker"}},"id":"1792","type":"Grid"},{"attributes":{},"id":"1861","type":"BasicTickFormatter"},{"attributes":{"ticker":{"id":"1784","type":"BasicTicker"}},"id":"1787","type":"Grid"},{"attributes":{},"id":"1779","type":"LinearScale"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"1808","type":"Line"},{"attributes":{"source":{"id":"1806","type":"ColumnDataSource"}},"id":"1810","type":"CDSView"},{"attributes":{},"id":"1797","type":"ResetTool"},{"attributes":{"callback":null},"id":"1775","type":"DataRange1d"},{"attributes":{"callback":null,"data":{"x":[1,2,3,4,5],"y":[3,1,2,6,5]},"selected":{"id":"1863","type":"Selection"},"selection_policy":{"id":"1862","type":"UnionRenderers"}},"id":"1806","type":"ColumnDataSource"},{"attributes":{"callback":null},"id":"1777","type":"DataRange1d"},{"attributes":{"formatter":{"id":"1859","type":"BasicTickFormatter"},"ticker":{"id":"1784","type":"BasicTicker"}},"id":"1783","type":"LinearAxis"},{"attributes":{"text":""},"id":"1856","type":"Title"},{"attributes":{"line_color":"green","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"1807","type":"Line"},{"attributes":{},"id":"1793","type":"PanTool"},{"attributes":{},"id":"1796","type":"SaveTool"},{"attributes":{},"id":"1798","type":"HelpTool"},{"attributes":{"overlay":{"id":"1864","type":"BoxAnnotation"}},"id":"1795","type":"BoxZoomTool"},{"attributes":{},"id":"1862","type":"UnionRenderers"},{"attributes":{},"id":"1789","type":"BasicTicker"},{"attributes":{},"id":"1784","type":"BasicTicker"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"1864","type":"BoxAnnotation"}],"root_ids":["1774"]},"title":"Bokeh Application","version":"1.3.4"}}</script><script type="text/javascript">(function(){var fn=function(){Bokeh.safely(function(){(function(root){function embed_document(root){var docs_json=document.getElementById('2000').textContent;var render_items=[{"docid":"b5ba7376-bd7e-4b57-9350-d258d68e91b4","roots":{"1774":"b2c7bbaf-c3f8-47c1-90d2-433614deadc3"}}];root.Bokeh.embed.embed_items(docs_json,render_items)}if(root.Bokeh!==undefined){embed_document(root)}else{var attempts=0;var timer=setInterval(function(root){if(root.Bokeh!==undefined){embed_document(root);clearInterval(timer)}attempts++;if(attempts>100){console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");clearInterval(timer)}},10,root)}})(window)})};if(document.readyState!="loading")fn();else document.addEventListener("DOMContentLoaded",fn)})();</script>

## 柱状图

```python
from bokeh.io import show, output_file
from bokeh.plotting import figure
output_file("html/bars.html")
fruits = ['Apples', 'Pears', 'Nectarines', 'Plums', 'Grapes', 'Strawberries']
counts = [5, 3, 4, 2, 4, 6]
p = figure(x_range=fruits, plot_height=250, title="Fruit Counts",tools="")
p.vbar(x=fruits, top=counts, width=0.9)
p.xgrid.grid_line_color = None
p.y_range.start = 0
show(p)
```

<div class="bk-root"id="1a530e00-250e-4201-97a5-b4603f00f030"data-root-id="3013"></div><script type="application/json"id="3389">{"29b4f9b5-1769-489c-be3c-bd4c675994c9":{"roots":{"references":[{"attributes":{"below":[{"id":"3024","type":"LinearAxis"}],"center":[{"id":"3028","type":"Grid"},{"id":"3032","type":"Grid"},{"id":"3064","type":"Legend"}],"left":[{"id":"3029","type":"CategoricalAxis"}],"outline_line_color":{"value":null},"plot_height":250,"renderers":[{"id":"3056","type":"GlyphRenderer"},{"id":"3069","type":"GlyphRenderer"},{"id":"3083","type":"GlyphRenderer"},{"id":"3104","type":"GlyphRenderer"},{"id":"3118","type":"GlyphRenderer"},{"id":"3134","type":"GlyphRenderer"}],"title":{"id":"3014","type":"Title"},"toolbar":{"id":"3039","type":"Toolbar"},"toolbar_location":null,"x_range":{"id":"3016","type":"Range1d"},"x_scale":{"id":"3020","type":"LinearScale"},"y_range":{"id":"3018","type":"FactorRange"},"y_scale":{"id":"3022","type":"CategoricalScale"}},"id":"3013","subtype":"Figure","type":"Plot"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"height":{"value":0.9},"left":{"expr":{"id":"3049","type":"Stack"}},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"right":{"expr":{"id":"3050","type":"Stack"}},"y":{"field":"fruits"}},"id":"3068","type":"HBar"},{"attributes":{"data_source":{"id":"3046","type":"ColumnDataSource"},"glyph":{"id":"3067","type":"HBar"},"hover_glyph":null,"muted_glyph":null,"name":"2016","nonselection_glyph":{"id":"3068","type":"HBar"},"selection_glyph":null,"view":{"id":"3070","type":"CDSView"}},"id":"3069","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"height":{"value":0.9},"left":{"expr":{"id":"3047","type":"Stack"}},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"right":{"expr":{"id":"3048","type":"Stack"}},"y":{"field":"fruits"}},"id":"3055","type":"HBar"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"height":{"value":0.9},"left":{"expr":{"id":"3099","type":"Stack"}},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"right":{"expr":{"id":"3100","type":"Stack"}},"y":{"field":"fruits"}},"id":"3133","type":"HBar"},{"attributes":{},"id":"3060","type":"BasicTickFormatter"},{"attributes":{"overlay":{"id":"3063","type":"BoxAnnotation"}},"id":"3035","type":"BoxZoomTool"},{"attributes":{"data_source":{"id":"3094","type":"ColumnDataSource"},"glyph":{"id":"3132","type":"HBar"},"hover_glyph":null,"muted_glyph":null,"name":"2017","nonselection_glyph":{"id":"3133","type":"HBar"},"selection_glyph":null,"view":{"id":"3135","type":"CDSView"}},"id":"3134","type":"GlyphRenderer"},{"attributes":{},"id":"3036","type":"SaveTool"},{"attributes":{"source":{"id":"3046","type":"ColumnDataSource"}},"id":"3057","type":"CDSView"},{"attributes":{},"id":"3037","type":"ResetTool"},{"attributes":{"fields":[]},"id":"3047","type":"Stack"},{"attributes":{"fields":["2015","2016"]},"id":"3098","type":"Stack"},{"attributes":{"fields":["2015"]},"id":"3097","type":"Stack"},{"attributes":{"fields":["2015","2016"]},"id":"3099","type":"Stack"},{"attributes":{"data_source":{"id":"3046","type":"ColumnDataSource"},"glyph":{"id":"3054","type":"HBar"},"hover_glyph":null,"muted_glyph":null,"name":"2015","nonselection_glyph":{"id":"3055","type":"HBar"},"selection_glyph":null,"view":{"id":"3057","type":"CDSView"}},"id":"3056","type":"GlyphRenderer"},{"attributes":{"source":{"id":"3094","type":"ColumnDataSource"}},"id":"3105","type":"CDSView"},{"attributes":{"label":{"value":"2016 exports"},"renderers":[{"id":"3069","type":"GlyphRenderer"}]},"id":"3079","type":"LegendItem"},{"attributes":{},"id":"3038","type":"HelpTool"},{"attributes":{"items":[{"id":"3065","type":"LegendItem"},{"id":"3079","type":"LegendItem"},{"id":"3093","type":"LegendItem"},{"id":"3114","type":"LegendItem"},{"id":"3130","type":"LegendItem"},{"id":"3146","type":"LegendItem"}],"location":"top_left"},"id":"3064","type":"Legend"},{"attributes":{"source":{"id":"3046","type":"ColumnDataSource"}},"id":"3070","type":"CDSView"},{"attributes":{},"id":"3077","type":"Selection"},{"attributes":{"fields":["2015","2016","2017"]},"id":"3100","type":"Stack"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"3033","type":"PanTool"},{"id":"3034","type":"WheelZoomTool"},{"id":"3035","type":"BoxZoomTool"},{"id":"3036","type":"SaveTool"},{"id":"3037","type":"ResetTool"},{"id":"3038","type":"HelpTool"}]},"id":"3039","type":"Toolbar"},{"attributes":{"fill_color":{"value":"#fdbb84"},"height":{"value":0.9},"left":{"expr":{"id":"3097","type":"Stack"}},"line_color":{"value":"#fdbb84"},"right":{"expr":{"id":"3098","type":"Stack"}},"y":{"field":"fruits"}},"id":"3116","type":"HBar"},{"attributes":{"label":{"value":"2017 imports"},"renderers":[{"id":"3134","type":"GlyphRenderer"}]},"id":"3146","type":"LegendItem"},{"attributes":{"fill_color":{"value":"#e0f3db"},"height":{"value":0.9},"left":{"expr":{"id":"3051","type":"Stack"}},"line_color":{"value":"#e0f3db"},"right":{"expr":{"id":"3052","type":"Stack"}},"y":{"field":"fruits"}},"id":"3081","type":"HBar"},{"attributes":{"fill_color":{"value":"#e34a33"},"height":{"value":0.9},"left":{"expr":{"id":"3095","type":"Stack"}},"line_color":{"value":"#e34a33"},"right":{"expr":{"id":"3096","type":"Stack"}},"y":{"field":"fruits"}},"id":"3102","type":"HBar"},{"attributes":{},"id":"3033","type":"PanTool"},{"attributes":{"fields":["2015"]},"id":"3048","type":"Stack"},{"attributes":{},"id":"3022","type":"CategoricalScale"},{"attributes":{"fill_color":{"value":"#fee8c8"},"height":{"value":0.9},"left":{"expr":{"id":"3099","type":"Stack"}},"line_color":{"value":"#fee8c8"},"right":{"expr":{"id":"3100","type":"Stack"}},"y":{"field":"fruits"}},"id":"3132","type":"HBar"},{"attributes":{"data_source":{"id":"3094","type":"ColumnDataSource"},"glyph":{"id":"3116","type":"HBar"},"hover_glyph":null,"muted_glyph":null,"name":"2016","nonselection_glyph":{"id":"3117","type":"HBar"},"selection_glyph":null,"view":{"id":"3119","type":"CDSView"}},"id":"3118","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"height":{"value":0.9},"left":{"expr":{"id":"3095","type":"Stack"}},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"right":{"expr":{"id":"3096","type":"Stack"}},"y":{"field":"fruits"}},"id":"3103","type":"HBar"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"height":{"value":0.9},"left":{"expr":{"id":"3097","type":"Stack"}},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"right":{"expr":{"id":"3098","type":"Stack"}},"y":{"field":"fruits"}},"id":"3117","type":"HBar"},{"attributes":{"text":"Fruit import/export, by year"},"id":"3014","type":"Title"},{"attributes":{"data_source":{"id":"3094","type":"ColumnDataSource"},"glyph":{"id":"3102","type":"HBar"},"hover_glyph":null,"muted_glyph":null,"name":"2015","nonselection_glyph":{"id":"3103","type":"HBar"},"selection_glyph":null,"view":{"id":"3105","type":"CDSView"}},"id":"3104","type":"GlyphRenderer"},{"attributes":{"source":{"id":"3046","type":"ColumnDataSource"}},"id":"3084","type":"CDSView"},{"attributes":{"source":{"id":"3094","type":"ColumnDataSource"}},"id":"3135","type":"CDSView"},{"attributes":{"callback":null,"end":16,"start":-16},"id":"3016","type":"Range1d"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"height":{"value":0.9},"left":{"expr":{"id":"3051","type":"Stack"}},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"right":{"expr":{"id":"3052","type":"Stack"}},"y":{"field":"fruits"}},"id":"3082","type":"HBar"},{"attributes":{"callback":null,"data":{"2015":[-1,0,-1,-3,-2,-1],"2016":[-2,-1,-3,-1,-2,-2],"2017":[-1,-2,-1,0,-2,-2],"fruits":["Apples","Pears","Nectarines","Plums","Grapes","Strawberries"]},"selected":{"id":"3128","type":"Selection"},"selection_policy":{"id":"3127","type":"UnionRenderers"}},"id":"3094","type":"ColumnDataSource"},{"attributes":{},"id":"3062","type":"CategoricalTickFormatter"},{"attributes":{"data_source":{"id":"3046","type":"ColumnDataSource"},"glyph":{"id":"3081","type":"HBar"},"hover_glyph":null,"muted_glyph":null,"name":"2017","nonselection_glyph":{"id":"3082","type":"HBar"},"selection_glyph":null,"view":{"id":"3084","type":"CDSView"}},"id":"3083","type":"GlyphRenderer"},{"attributes":{"fill_color":{"value":"#43a2ca"},"height":{"value":0.9},"left":{"expr":{"id":"3047","type":"Stack"}},"line_color":{"value":"#43a2ca"},"right":{"expr":{"id":"3048","type":"Stack"}},"y":{"field":"fruits"}},"id":"3054","type":"HBar"},{"attributes":{"fields":["2015"]},"id":"3049","type":"Stack"},{"attributes":{},"id":"3020","type":"LinearScale"},{"attributes":{"callback":null,"data":{"2015":[2,1,4,3,2,4],"2016":[5,3,4,2,4,6],"2017":[3,2,4,4,5,3],"fruits":["Apples","Pears","Nectarines","Plums","Grapes","Strawberries"]},"selected":{"id":"3077","type":"Selection"},"selection_policy":{"id":"3076","type":"UnionRenderers"}},"id":"3046","type":"ColumnDataSource"},{"attributes":{"formatter":{"id":"3060","type":"BasicTickFormatter"},"minor_tick_line_color":{"value":null},"ticker":{"id":"3025","type":"BasicTicker"}},"id":"3024","type":"LinearAxis"},{"attributes":{"callback":null,"factors":["Apples","Pears","Nectarines","Plums","Grapes","Strawberries"],"range_padding":0.1},"id":"3018","type":"FactorRange"},{"attributes":{"label":{"value":"2015 exports"},"renderers":[{"id":"3056","type":"GlyphRenderer"}]},"id":"3065","type":"LegendItem"},{"attributes":{"fields":["2015","2016"]},"id":"3050","type":"Stack"},{"attributes":{"label":{"value":"2015 imports"},"renderers":[{"id":"3104","type":"GlyphRenderer"}]},"id":"3114","type":"LegendItem"},{"attributes":{"fields":["2015","2016"]},"id":"3051","type":"Stack"},{"attributes":{"source":{"id":"3094","type":"ColumnDataSource"}},"id":"3119","type":"CDSView"},{"attributes":{"label":{"value":"2017 exports"},"renderers":[{"id":"3083","type":"GlyphRenderer"}]},"id":"3093","type":"LegendItem"},{"attributes":{"fields":["2015","2016","2017"]},"id":"3052","type":"Stack"},{"attributes":{"fields":["2015"]},"id":"3096","type":"Stack"},{"attributes":{},"id":"3030","type":"CategoricalTicker"},{"attributes":{},"id":"3034","type":"WheelZoomTool"},{"attributes":{},"id":"3076","type":"UnionRenderers"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"3063","type":"BoxAnnotation"},{"attributes":{},"id":"3025","type":"BasicTicker"},{"attributes":{},"id":"3128","type":"Selection"},{"attributes":{"fill_color":{"value":"#a8ddb5"},"height":{"value":0.9},"left":{"expr":{"id":"3049","type":"Stack"}},"line_color":{"value":"#a8ddb5"},"right":{"expr":{"id":"3050","type":"Stack"}},"y":{"field":"fruits"}},"id":"3067","type":"HBar"},{"attributes":{"label":{"value":"2016 imports"},"renderers":[{"id":"3118","type":"GlyphRenderer"}]},"id":"3130","type":"LegendItem"},{"attributes":{"fields":[]},"id":"3095","type":"Stack"},{"attributes":{"ticker":{"id":"3025","type":"BasicTicker"}},"id":"3028","type":"Grid"},{"attributes":{},"id":"3127","type":"UnionRenderers"},{"attributes":{"formatter":{"id":"3062","type":"CategoricalTickFormatter"},"minor_tick_line_color":{"value":null},"ticker":{"id":"3030","type":"CategoricalTicker"}},"id":"3029","type":"CategoricalAxis"},{"attributes":{"dimension":1,"grid_line_color":null,"ticker":{"id":"3030","type":"CategoricalTicker"}},"id":"3032","type":"Grid"}],"root_ids":["3013"]},"title":"Bokeh Application","version":"1.3.4"}}</script><script type="text/javascript">(function(){var fn=function(){Bokeh.safely(function(){(function(root){function embed_document(root){var docs_json=document.getElementById('3389').textContent;var render_items=[{"docid":"29b4f9b5-1769-489c-be3c-bd4c675994c9","roots":{"3013":"1a530e00-250e-4201-97a5-b4603f00f030"}}];root.Bokeh.embed.embed_items(docs_json,render_items)}if(root.Bokeh!==undefined){embed_document(root)}else{var attempts=0;var timer=setInterval(function(root){if(root.Bokeh!==undefined){embed_document(root);clearInterval(timer)}attempts++;if(attempts>100){console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");clearInterval(timer)}},10,root)}})(window)})};if(document.readyState!="loading")fn();else document.addEventListener("DOMContentLoaded",fn)})();</script>

## 在一张图表中插入多组数据

```python
from bokeh.plotting import figure, output_file, show

# prepare some data
x = [0.1, 0.5, 1.0, 1.5, 2.0, 2.5, 3.0]
y0 = [i**2 for i in x]
y1 = [10**i for i in x]
y2 = [10**(i**2) for i in x]

# output to static HTML file
output_file("log_lines.html")

# create a new plot
p = figure(
   tools="pan,box_zoom,reset,save",
   y_axis_type="log", y_range=[0.001, 10**11], title="log axis example",
   x_axis_label='sections', y_axis_label='particles'
)

# add some renderers
p.line(x, x, legend="y=x")
p.circle(x, x, legend="y=x", fill_color="white", size=8)
p.line(x, y0, legend="y=x^2", line_width=3)
p.line(x, y1, legend="y=10^x", line_color="red")
p.circle(x, y1, legend="y=10^x", fill_color="red", line_color="red", size=6)
p.line(x, y2, legend="y=10^x^2", line_color="orange", line_dash="4 4")

# show the results
show(p)
```



<div class="bk-root"id="6b0cbb98-b19f-4278-8d9c-45e118441d6a"data-root-id="1001"></div><script type="application/json"id="1294">{"92c90687-3996-4e97-b3e9-d8f62e191825":{"roots":{"references":[{"attributes":{"callback":null,"data":{"x":[0.1,0.5,1.0,1.5,2.0,2.5,3.0],"y":[0.1,0.5,1.0,1.5,2.0,2.5,3.0]},"selected":{"id":"1071","type":"Selection"},"selection_policy":{"id":"1070","type":"UnionRenderers"}},"id":"1044","type":"ColumnDataSource"},{"attributes":{"source":{"id":"1031","type":"ColumnDataSource"}},"id":"1035","type":"CDSView"},{"attributes":{},"id":"1088","type":"UnionRenderers"},{"attributes":{},"id":"1022","type":"PanTool"},{"attributes":{"label":{"value":"y=10^x"},"renderers":[{"id":"1076","type":"GlyphRenderer"},{"id":"1094","type":"GlyphRenderer"}]},"id":"1090","type":"LegendItem"},{"attributes":{},"id":"1089","type":"Selection"},{"attributes":{},"id":"1024","type":"ResetTool"},{"attributes":{},"id":"1025","type":"SaveTool"},{"attributes":{"line_color":"orange","line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"1111","type":"Line"},{"attributes":{"callback":null,"data":{"x":[0.1,0.5,1.0,1.5,2.0,2.5,3.0],"y":[1.023292992280754,1.7782794100389228,10.0,177.82794100389228,10000.0,1778279.410038923,1000000000.0]},"selected":{"id":"1149","type":"Selection"},"selection_policy":{"id":"1148","type":"UnionRenderers"}},"id":"1110","type":"ColumnDataSource"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"1022","type":"PanTool"},{"id":"1023","type":"BoxZoomTool"},{"id":"1024","type":"ResetTool"},{"id":"1025","type":"SaveTool"}]},"id":"1026","type":"Toolbar"},{"attributes":{"line_color":"#1f77b4","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"1058","type":"Line"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"1033","type":"Line"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"1093","type":"Circle"},{"attributes":{"data_source":{"id":"1031","type":"ColumnDataSource"},"glyph":{"id":"1032","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1033","type":"Line"},"selection_glyph":null,"view":{"id":"1035","type":"CDSView"}},"id":"1034","type":"GlyphRenderer"},{"attributes":{"data_source":{"id":"1091","type":"ColumnDataSource"},"glyph":{"id":"1092","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1093","type":"Circle"},"selection_glyph":null,"view":{"id":"1095","type":"CDSView"}},"id":"1094","type":"GlyphRenderer"},{"attributes":{},"id":"1038","type":"BasicTickFormatter"},{"attributes":{"source":{"id":"1091","type":"ColumnDataSource"}},"id":"1095","type":"CDSView"},{"attributes":{"items":[{"id":"1043","type":"LegendItem"},{"id":"1072","type":"LegendItem"},{"id":"1090","type":"LegendItem"},{"id":"1131","type":"LegendItem"}]},"id":"1042","type":"Legend"},{"attributes":{},"id":"1108","type":"UnionRenderers"},{"attributes":{"text":"log axis example"},"id":"1002","type":"Title"},{"attributes":{"ticker":null},"id":"1040","type":"LogTickFormatter"},{"attributes":{"callback":null,"end":100000000000,"start":0.001},"id":"1006","type":"Range1d"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"1041","type":"BoxAnnotation"},{"attributes":{},"id":"1109","type":"Selection"},{"attributes":{"callback":null,"data":{"x":[0.1,0.5,1.0,1.5,2.0,2.5,3.0],"y":[0.010000000000000002,0.25,1.0,2.25,4.0,6.25,9.0]},"selected":{"id":"1089","type":"Selection"},"selection_policy":{"id":"1088","type":"UnionRenderers"}},"id":"1057","type":"ColumnDataSource"},{"attributes":{"label":{"value":"y=x"},"renderers":[{"id":"1034","type":"GlyphRenderer"},{"id":"1047","type":"GlyphRenderer"}]},"id":"1043","type":"LegendItem"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"1112","type":"Line"},{"attributes":{"data_source":{"id":"1110","type":"ColumnDataSource"},"glyph":{"id":"1111","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1112","type":"Line"},"selection_glyph":null,"view":{"id":"1114","type":"CDSView"}},"id":"1113","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":8},"x":{"field":"x"},"y":{"field":"y"}},"id":"1046","type":"Circle"},{"attributes":{"source":{"id":"1110","type":"ColumnDataSource"}},"id":"1114","type":"CDSView"},{"attributes":{"data_source":{"id":"1044","type":"ColumnDataSource"},"glyph":{"id":"1045","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1046","type":"Circle"},"selection_glyph":null,"view":{"id":"1048","type":"CDSView"}},"id":"1047","type":"GlyphRenderer"},{"attributes":{},"id":"1129","type":"UnionRenderers"},{"attributes":{"label":{"value":"y=10^x^2"},"renderers":[{"id":"1113","type":"GlyphRenderer"}]},"id":"1131","type":"LegendItem"},{"attributes":{"source":{"id":"1044","type":"ColumnDataSource"}},"id":"1048","type":"CDSView"},{"attributes":{},"id":"1055","type":"UnionRenderers"},{"attributes":{},"id":"1130","type":"Selection"},{"attributes":{"callback":null,"data":{"x":[0.1,0.5,1.0,1.5,2.0,2.5,3.0],"y":[0.1,0.5,1.0,1.5,2.0,2.5,3.0]},"selected":{"id":"1056","type":"Selection"},"selection_policy":{"id":"1055","type":"UnionRenderers"}},"id":"1031","type":"ColumnDataSource"},{"attributes":{},"id":"1056","type":"Selection"},{"attributes":{"callback":null,"data":{"x":[0.1,0.5,1.0,1.5,2.0,2.5,3.0],"y":[1.2589254117941673,3.1622776601683795,10.0,31.622776601683793,100.0,316.22776601683796,1000.0]},"selected":{"id":"1109","type":"Selection"},"selection_policy":{"id":"1108","type":"UnionRenderers"}},"id":"1073","type":"ColumnDataSource"},{"attributes":{"source":{"id":"1073","type":"ColumnDataSource"}},"id":"1077","type":"CDSView"},{"attributes":{"callback":null},"id":"1004","type":"DataRange1d"},{"attributes":{"line_color":"red","x":{"field":"x"},"y":{"field":"y"}},"id":"1074","type":"Line"},{"attributes":{},"id":"1148","type":"UnionRenderers"},{"attributes":{"data_source":{"id":"1057","type":"ColumnDataSource"},"glyph":{"id":"1058","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1059","type":"Line"},"selection_glyph":null,"view":{"id":"1061","type":"CDSView"}},"id":"1060","type":"GlyphRenderer"},{"attributes":{},"id":"1149","type":"Selection"},{"attributes":{},"id":"1010","type":"LogScale"},{"attributes":{"overlay":{"id":"1041","type":"BoxAnnotation"}},"id":"1023","type":"BoxZoomTool"},{"attributes":{"source":{"id":"1057","type":"ColumnDataSource"}},"id":"1061","type":"CDSView"},{"attributes":{},"id":"1070","type":"UnionRenderers"},{"attributes":{},"id":"1008","type":"LinearScale"},{"attributes":{"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"1032","type":"Line"},{"attributes":{"label":{"value":"y=x^2"},"renderers":[{"id":"1060","type":"GlyphRenderer"}]},"id":"1072","type":"LegendItem"},{"attributes":{"axis_label":"sections","formatter":{"id":"1038","type":"BasicTickFormatter"},"ticker":{"id":"1013","type":"BasicTicker"}},"id":"1012","type":"LinearAxis"},{"attributes":{},"id":"1071","type":"Selection"},{"attributes":{"dimension":1,"ticker":{"id":"1018","type":"LogTicker"}},"id":"1021","type":"Grid"},{"attributes":{},"id":"1013","type":"BasicTicker"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"1059","type":"Line"},{"attributes":{"fill_color":{"value":"red"},"line_color":{"value":"red"},"size":{"units":"screen","value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"1092","type":"Circle"},{"attributes":{"ticker":{"id":"1013","type":"BasicTicker"}},"id":"1016","type":"Grid"},{"attributes":{"callback":null,"data":{"x":[0.1,0.5,1.0,1.5,2.0,2.5,3.0],"y":[1.2589254117941673,3.1622776601683795,10.0,31.622776601683793,100.0,316.22776601683796,1000.0]},"selected":{"id":"1130","type":"Selection"},"selection_policy":{"id":"1129","type":"UnionRenderers"}},"id":"1091","type":"ColumnDataSource"},{"attributes":{"below":[{"id":"1012","type":"LinearAxis"}],"center":[{"id":"1016","type":"Grid"},{"id":"1021","type":"Grid"},{"id":"1042","type":"Legend"}],"left":[{"id":"1017","type":"LogAxis"}],"renderers":[{"id":"1034","type":"GlyphRenderer"},{"id":"1047","type":"GlyphRenderer"},{"id":"1060","type":"GlyphRenderer"},{"id":"1076","type":"GlyphRenderer"},{"id":"1094","type":"GlyphRenderer"},{"id":"1113","type":"GlyphRenderer"}],"title":{"id":"1002","type":"Title"},"toolbar":{"id":"1026","type":"Toolbar"},"x_range":{"id":"1004","type":"DataRange1d"},"x_scale":{"id":"1008","type":"LinearScale"},"y_range":{"id":"1006","type":"Range1d"},"y_scale":{"id":"1010","type":"LogScale"}},"id":"1001","subtype":"Figure","type":"Plot"},{"attributes":{"data_source":{"id":"1073","type":"ColumnDataSource"},"glyph":{"id":"1074","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1075","type":"Line"},"selection_glyph":null,"view":{"id":"1077","type":"CDSView"}},"id":"1076","type":"GlyphRenderer"},{"attributes":{"num_minor_ticks":10},"id":"1018","type":"LogTicker"},{"attributes":{"axis_label":"particles","formatter":{"id":"1040","type":"LogTickFormatter"},"ticker":{"id":"1018","type":"LogTicker"}},"id":"1017","type":"LogAxis"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"1075","type":"Line"},{"attributes":{"fill_color":{"value":"white"},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":8},"x":{"field":"x"},"y":{"field":"y"}},"id":"1045","type":"Circle"}],"root_ids":["1001"]},"title":"Bokeh Application","version":"1.3.4"}}</script><script type="text/javascript">(function(){var fn=function(){Bokeh.safely(function(){(function(root){function embed_document(root){var docs_json=document.getElementById('1294').textContent;var render_items=[{"docid":"92c90687-3996-4e97-b3e9-d8f62e191825","roots":{"1001":"6b0cbb98-b19f-4278-8d9c-45e118441d6a"}}];root.Bokeh.embed.embed_items(docs_json,render_items)}if(root.Bokeh!==undefined){embed_document(root)}else{var attempts=0;var timer=setInterval(function(root){if(root.Bokeh!==undefined){embed_document(root);clearInterval(timer)}attempts++;if(attempts>100){console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");clearInterval(timer)}},10,root)}})(window)})};if(document.readyState!="loading")fn();else document.addEventListener("DOMContentLoaded",fn)})();</script>

# 将图表插入到自己的页面

## 生成的html

```diff

<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="utf-8">
      <title>Bokeh Plot</title>
+        <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-1.3.4.min.js"></script>
+        <script type="text/javascript">
+            Bokeh.set_log_level("info");
+        </script>
  </head>
  <body>
+        <div class="bk-root" id="c2e1f62c-4bf8-4646-b45f-0941761cab1e" data-root-id="2631"></div>
+       <script type="application/json" id="3005">
+         // 一些代码
+        </script>
+        <script type="text/javascript">
+          (function() {
+            var fn = function() {
+              Bokeh.safely(function() {
+                .... // 一些代码
+              });
+            };
+            if (document.readyState != "loading") fn();
+            else document.addEventListener("DOMContentLoaded", fn);
+          })();
+        </script>
  </body>
</html>
```

> 先引入**bokeh**的CDN库，然后将上面的**html**源码中的**body**内容放置到你自己的页面内，就可以显示图表了。

> 另外：如果要在Hexo中引入图表的话，需要将上面提取出的页面压缩一下，不然真的容易出错。比如在下面的工具中压缩：
>
> > https://www.sojson.com/jshtml.html